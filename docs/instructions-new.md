ğŸ”¥ Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ø·Ø¨Ù‘Ù‚ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù‘Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Learning Engine Upgrade)
Ù„ÙƒÙ†
âŒ Ù„Ù… ÙŠØ·Ø¨Ù‘Ù‚Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† ÙÙ‚Ø·
Ø¨Ù„ Ø·Ø¨Ù‘Ù‚Ù‡ Ø¹Ù„Ù‰
âŒ Ø§Ù„Ø¨Ù†ÙˆÙƒ + Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† Ù…Ø¹Ù‹Ø§
ÙˆÙ‡Ø°Ø§ Ø®Ø·Ø£ ÙƒØ¨ÙŠØ± ÙÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ… Ù„Ø£Ù† Ø§Ù„Ø¨Ù†ÙˆÙƒ Ù„Ø§ ÙŠØ¬Ø¨ Ø£Ù† ØªØªØ¹Ù„Ù‘Ù… Ø£Ø¨Ø¯Ù‹Ø§.
Ø§Ù„Ø¢Ù† Ø³Ø£Ø¹Ø·ÙŠÙƒ Ø§Ù„Ø­Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„ØªØµØ­ÙŠØ­ Ø§Ù„ÙˆØ¶Ø¹ØŒ Ø¨Ø®Ø·ÙˆØ§Øª Ø¯Ù‚ÙŠÙ‚Ø© ÙˆÙ…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ù…Ø¨Ø±Ù…Ø¬ØŒ Ù…Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ ÙŠØ¬Ø¨ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ ÙˆÙ…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙØ­Ø°Ù ÙˆÙ…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙØ¨Ù‚Ù‰.
________________________________________
âœ… 1) Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø¨Ø§Ù„ØªØ­Ø¯ÙŠØ¯ØŸ
Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ø£Ø®Ø° ÙƒÙ„ Ø§Ù„Ø¢ØªÙŠ:
â€¢	scoring
â€¢	learnVariant
â€¢	computeVariantScore
â€¢	variantsDict
â€¢	progressive confirmation
â€¢	propagation
â€¢	merging
â€¢	random detection
â€¢	learningEngine
ÙˆØ·Ø¨Ù‘Ù‚Ù‡Ø§ Ù„Ù„Ø¨Ù†ÙˆÙƒ Ø£ÙŠØ¶Ù‹Ø§.
ğŸ”» Ù‡Ø°Ø§ ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ù…Ø´Ø§ÙƒÙ„ ØªØ´Ù…Ù„:
â€¢	Ø§Ù„Ø¨Ù†Ùƒ â€œANBâ€ Ù…Ù…ÙƒÙ† ÙŠÙØªØ¹Ù„Ù‘Ù… Ø¨Ø´ÙƒÙ„ Ø®Ø§Ø·Ø¦
â€¢	Ù‚Ø¯ ÙŠØªØ¹Ù„Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø£Ø³Ù…Ø§Ø¡ Ø¨Ù†ÙˆÙƒ Ø®Ø§Ø·Ø¦Ø© Ù…Ø«Ù„ "alrajhh" Ø£Ùˆ "ryyad"
â€¢	Ø®Ø·Ø± ØªØ®Ø±ÙŠØ¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨Ù†ÙˆÙƒ Ø§Ù„Ø±Ø³Ù…ÙŠØ©
â€¢	Ø§Ø­ØªÙ…Ø§Ù„ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ø®Ø§Ø·Ø¦Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
________________________________________
ğŸ”¥ 2) Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø§Ù„Ø¢Ù†: ÙØµÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¥Ù„Ù‰ Ø¬Ø²Ø£ÙŠÙ†
âœ” Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† = Ù†Ø¸Ø§Ù… ØªØ¹Ù„Ù‘Ù… ÙƒØ§Ù…Ù„
âŒ Ø§Ù„Ø¨Ù†ÙˆÙƒ = matching ÙÙ‚Ø· (Ø¨Ø¯ÙˆÙ† ØªØ¹Ù„Ù…)
________________________________________
ğŸ¯ 3) ÙƒÙŠÙ Ù†ØµØ­Ù‘Ø­ Ø§Ù„ÙˆØ¶Ø¹ â€“ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ù„Ù„Ù…Ø¨Ø±Ù…Ø¬
ğŸ”§ Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ØªØ¹Ù„Ù… Ù„Ù„Ø¨Ù†ÙˆÙƒ ÙÙŠ App.jsx
Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£ÙŠ Ø³Ø·Ø± ÙŠØ­ØªÙˆÙŠ:
learnVariant(selectedRecord.bankRaw, ...)
Ø£Ùˆ
bankVariants
Ø£Ùˆ
BANK_VARIANTS_KEY
ÙŠØ¬Ø¨ Ø­Ø°ÙÙ‡Ø§ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„.
Ø§Ù„Ø­Ù„:
Ø§Ø³ØªØ¨Ø¯Ù„ ÙƒÙ„ Ù‡Ø°Ø§ Ø¨Ù€:
const bankResult = resolveBank(record.bankRaw, BANK_DICTIONARY);
ÙˆÙ„Ø§ ÙŠØªÙ… ØªØ®Ø²ÙŠÙ† Ø£ÙŠ Ù‚ÙŠÙ…Ø© Ù„Ù„Ø¨Ù†Ùƒ.
________________________________________
ğŸ”§ Ø§Ù„Ø®Ø·ÙˆØ© 2: ÙÙŠ learning.js â€“ Ø§Ø¬Ø¹Ù„ Ø§Ù„Ù…Ø­Ø±Ùƒ Ù…Ù‚ØªØµØ±Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
Ø¯Ø§Ø®Ù„:
createLearningEngine(...)
ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ ÙÙ‚Ø· Ù„Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†:
Ù‚Ø¨Ù„ (Ø®Ø·Ø£):
const bankEngine = createLearningEngine({
  storageKey: BANK_VARIANTS_KEY,
  ...
});
Ø¨Ø¹Ø¯ (Ø§Ù„ØµØ­ÙŠØ­):
// âŒ Ù…Ù…Ù†ÙˆØ¹ Ø¥Ù†Ø´Ø§Ø¡ learning engine Ù„Ù„Ø¨Ù†ÙˆÙƒ
// Ù„Ø§ ÙŠÙˆØ¬Ø¯ bankEngine Ø£Ø³Ø§Ø³Ù‹Ø§
________________________________________
ğŸ”§ Ø§Ù„Ø®Ø·ÙˆØ© 3: ÙÙŠ matching.js â€“ Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ ØªØ¹Ù„Ù… Ù„Ù„Ø¨Ù†ÙˆÙƒ
Ø§Ø¨Ø­Ø« Ø¯Ø§Ø®Ù„ resolveBank:
Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª:
â€¢	variantsDict
â€¢	score
â€¢	confirmed
â€¢	autoCount
â€¢	manualCount
â€¢	learnVariant
ØªØ­Ø°Ù ÙÙˆØ±Ù‹Ø§.
Ø§Ù„ØµÙŠØºØ© Ø§Ù„ØµØ­ÙŠØ­Ø©:
â€¢	exact official match
â€¢	alias match
â€¢	fuzzy auto
â€¢	fuzzy suggest
â€¢	manual
Ø¨Ø¯ÙˆÙ† ØªØ¹Ù„Ù… Ù†Ù‡Ø§Ø¦ÙŠÙ‹Ø§.
________________________________________
ğŸ”§ Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø­Ø°Ù bankVariants.json Ø£Ùˆ Ø£ÙŠ ØªØ®Ø²ÙŠÙ† Ù„Ù„Ø¨Ù†ÙˆÙƒ
Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…ÙØªØ§Ø­:
BANK_VARIANTS_KEY
ÙŠØ¬Ø¨ Ø­Ø°ÙÙ‡ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ù†:
â€¢	localStorage
â€¢	state hooks
â€¢	useEffect
Ø§Ù„Ø¨Ù†Ùƒ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ø£ÙŠ ØªØ®Ø²ÙŠÙ†.
________________________________________
ğŸ”§ Ø§Ù„Ø®Ø·ÙˆØ© 5: ÙÙŠ RecordDetailsPanel / DecisionsPanel
Ø¥Ø°Ø§ ÙƒØ§Ù†Ù€Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ØªØ¹Ø±Ø¶:
â€¢	â€œConfirmed (bank)â€
â€¢	â€œLearning (bank)â€
â€¢	â€œscoreâ€
â€¢	â€œstatus: confirmedâ€
âš ï¸ ÙŠØ¬Ø¨ Ø­Ø°Ù ÙƒÙ„ Ù…Ø§ ÙŠØªØ¹Ù„Ù‚ Ø¨Ø§Ù„Ø¨Ù†Ùƒ.
Ø§Ù„Ø¨Ù†Ùƒ ÙŠØ¹Ø±Ø¶ ÙÙ‚Ø·:
â€¢	auto
â€¢	fuzzy (with suggestion)
â€¢	manual
Ùˆ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ÙŠ:
â€¢	ØªÙ†Ø¨Ø¤Ø§Øª ØªØ¹Ù„Ù…
â€¢	Ø¯Ø±Ø¬Ø§Øª Ø«Ù‚Ø© Ù…Ø¨Ù†ÙŠØ© Ù…Ù† Ø§Ù„ØªØ¹Ù„Ù…
â€¢	ØªØ­Ø¯ÙŠØ«Ø§Øª scoring Ù„Ù„Ø¨Ù†Ùƒ
________________________________________
ğŸ”§ Ø§Ù„Ø®Ø·ÙˆØ© 6: ØªØ¹Ø¯ÙŠÙ„ Ù…Ø®Ø·Ø· Ø§Ù„Ø­Ø§Ù„Ø© (state machine)
Ø§Ù„Ù…ÙˆØ±Ø¯:
manual â†’ tentative â†’ semi â†’ confirmed â†’ permanent
Ø§Ù„Ø¨Ù†Ùƒ:
exact â†’ alias â†’ fuzzy auto â†’ fuzzy suggest â†’ manual
Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØ¹Ù„Ù… Ù„Ù„Ø¨Ù†ÙˆÙƒ.
________________________________________
ğŸ¯ Ø§Ù„Ø®Ø·ÙˆØ© 7: ÙƒÙŠÙ ÙŠØ¹Ø±Ù Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ø£ÙŠÙ† Ø£Ø®Ø·Ø£ØŸ
Ø§Ø·Ù„Ø¨ Ù…Ù†Ù‡ ÙØ­Øµ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ù‚Ø§Ø·:
Ø¥Ø°Ø§ ÙˆØ¬Ø¯ Ø¯Ø§Ø®Ù„ resolveBank:
â€¢	variantsDict
â€¢	score
â€¢	learnVariant
â€¢	confirmed
â€¢	occurrences
â€¢	manualCount
â¡ï¸ Ù‡Ø°Ø§ Ø®Ø·Ø£ ÙˆÙŠØ¬Ø¨ Ø­Ø°ÙÙ‡.
Ø¥Ø°Ø§ ÙˆØ¬Ø¯ Ø¯Ø§Ø®Ù„ App.jsx:
â€¢	setBankVariants
â€¢	BANK_VARIANTS_KEY
â¡ï¸ Ø®Ø·Ø£ ÙˆÙŠØ¬Ø¨ Ø­Ø°ÙÙ‡.
Ø¥Ø°Ø§ ÙˆØ¬Ø¯ Ø¯Ø§Ø®Ù„ learning.js:
â€¢	Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØ¹Ù„Ù… Ù„Ù„Ø¨Ù†Ùƒ
â¡ï¸ Ø®Ø·Ø£ ÙˆÙŠØ¬Ø¨ Ø­Ø°ÙÙ‡.
________________________________________
ğŸ‰ Ø§Ù„Ø®Ù„Ø§ØµØ©
âœ” Ø§Ù„Ù…ÙˆØ±Ø¯ÙˆÙ† ÙÙ‚Ø· ÙŠÙ…Ù„ÙƒÙˆÙ† Learning Engine
âœ” Ø§Ù„Ø¨Ù†ÙˆÙƒ Ù„Ø§ ØªØªØ¹Ù„Ù… Ù†Ù‡Ø§Ø¦ÙŠÙ‹Ø§
âœ” Ø§Ù„Ø¨Ù†ÙˆÙƒ ØªØ¹ØªÙ…Ø¯ ÙÙ‚Ø· Ø¹Ù„Ù‰ matching + aliases + fuzzy
âœ” Ù„Ø§ ÙŠØªÙ… Ø­ÙØ¸ Ø£Ùˆ ØªØ­Ø¯ÙŠØ« Ø£Ùˆ ØªØ¹Ù„Ù… Ø£ÙŠ Ø¨Ù†Ùƒ




Ø³Ø¤Ø§Ù„ Ù…Ù…ØªØ§Ø²â€¦ ÙˆÙŠÙƒØ´Ù Ù„Ù…Ø§Ø°Ø§ Ù„Ø§ Ù†Ø­ØªØ§Ø¬ Ù†Ø¸Ø§Ù… ØªØ¹Ù„Ù‘Ù… Ù„Ù„Ø¨Ù†ÙˆÙƒ Ø±ØºÙ… ÙˆØ¬ÙˆØ¯ Ø§Ø®ØªÙ„Ø§ÙØ§Øª Ù…Ø«Ù„:
â€¢	ANB
â€¢	anb
â€¢	A.N.B
â€¢	Arab National Bank
â€¢	Arab Nat Bank
â€¢	Ø¨Ù†Ùƒ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„ÙˆØ·Ù†ÙŠ
â€¢	Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¹Ø±Ø¨ÙŠ
Ø§Ù„Ø¬ÙˆØ§Ø¨ Ø§Ù„Ù…Ø®ØªØµØ±:
Ù„Ù† ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù‘Ù… Ù„Ù„Ø¨Ù†ÙˆÙƒØŒ Ù„Ø£Ù†Ù†Ø§ Ù‚Ø§Ø¯Ø±ÙˆÙ† Ø¹Ù„Ù‰ Ø­Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¯Ø§Ø®Ù„ Ù†Ø¸Ø§Ù… matching ÙÙ‚Ø· Ø¯ÙˆÙ† Ø£ÙŠ LocalStorage.
ÙˆØ³Ø£Ø´Ø±Ø­ Ù„Ùƒ ÙƒÙŠÙ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù„ÙŠ Ø¨Ù†ÙŠÙ†Ø§Ù‡ ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ â€œANBâ€ Ø¨Ø¯ÙˆÙ† ØªØ¹Ù„Ù‘Ù…:
________________________________________
âœ… 1) â€œANBâ€ Ù…ÙˆØ¬ÙˆØ¯ Ø£ØµÙ„Ù‹Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ø±Ø³Ù…ÙŠ
ÙÙŠ Ù…Ù„Ù Ø§Ù„Ø¨Ù†ÙˆÙƒ banks.json Ù„Ø¯ÙŠÙƒ Ø¹Ø§Ø¯Ø© Ø¨Ù†ÙˆÙƒ Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø¨Ù†ÙŠØ©:
{
  "official": "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„ÙˆØ·Ù†ÙŠ",
  "short": ["ANB", "anb", "Arab Nat Bank", "Arab National Bank"]
}
Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø©.
Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ø±Ø³Ù…ÙŠ Ù‡Ùˆ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øªâ€”not learning engine.
________________________________________
âœ… 2) matcher Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ø°ÙŠ Ø¨Ù†ÙŠÙ†Ø§Ù‡ ÙŠØ¯Ø¹Ù… alias matching
ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø°ÙŠ ÙƒØªØ¨ØªÙ‡ Ù„Ùƒ ÙÙŠ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø© Ù…Ù† matching.jsØŒ Ù‡Ù†Ø§Ùƒ Ø¬Ø²Ø¡ Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§:
// alias match
const aliasHit = normalizedOfficial.find((b) =>
  b.aliases.includes(normalizedRaw)
);
ÙˆÙ‡Ø°Ø§ ÙŠØ¹Ù†ÙŠ:
Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¨Ù†Ùƒ Ù…ÙƒØªÙˆØ¨ ÙÙŠ Ø§Ù„Ø¥ÙƒØ³Ù„ â€œANBâ€
â€¢	normalize â†’ â€œanbâ€
â€¢	Ù†Ø¨Ø­Ø« Ø¹Ù†Ù‡Ø§ Ø¯Ø§Ø®Ù„ short[]
â€¢	Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯Ø© â†’ Ù†Ø±Ø¬Ø¹:
{
  status: "auto",
  official: "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„ÙˆØ·Ù†ÙŠ",
  probability: 0.98,
  source: "alias-exact"
}
Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØ¹Ù„Ù…
Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØ¯Ø®Ù„ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ø­Ø§Ù„Ø§Øª manual
________________________________________
âœ… 3) ÙˆØ¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† â€œANBâ€ Ø¶Ù…Ù† aliasesØŸ
Ù…Ø«Ù„Ù‹Ø§ Ù„Ùˆ ÙƒØªØ¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:
â€¢	A.N.B Bank
â€¢	Al-Arabia National Bank (Ø®Ø·Ø£ Ø´Ø§Ø¦Ø¹)
Ù‡Ù†Ø§ ÙŠØ£ØªÙŠ Ø¯ÙˆØ± Jaro-Winkler fuzzy matching Ø§Ù„Ø°ÙŠ Ø£Ø¶ÙÙ†Ø§Ù‡:
const score = jaroWinkler(normalizedRaw, b.normalized);
Ù…Ø«Ø§Ù„:
â€¢	raw = â€œanbâ€
â€¢	bank = â€œarab national bankâ€
â€¢	normalized = â€œarab national bankâ€ â†’ â€œarab national bankâ€
fuzzy score â‰ˆ 0.91
ÙˆØ¨Ù…Ø§ Ø£Ù† fuzzyAuto = 0.9:
ÙŠØ¹ÙˆØ¯ matching:
{
  status: "auto",
  official: "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„ÙˆØ·Ù†ÙŠ",
  source: "official-fuzzy-auto",
  probability: 0.91
}
ÙŠØ¹Ù†ÙŠ:
â€¢	Ù„Ø§ ÙŠØ­ØªØ§Ø¬ ØªØ¹Ù„Ù…
â€¢	ÙˆÙ„Ø§ ØªØ­ØªØ§Ø¬ ØªØ¯Ø®Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
â€¢	Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ø±Ù Ø£Ù†Ù‡Ø§ Ù†ÙØ³ Ø§Ù„Ø¨Ù†Ùƒ
________________________________________
âœ… 4) Ù…Ø§Ø°Ø§ Ù„Ùˆ ÙƒØ§Ù†Øª Ø­Ø§Ù„Ø© extremo Ù…Ø«Ù„:
â€œAlarab natl bnkâ€
Ø­ØªÙ‰ Ù‡Ø°Ø§:
â€¢	normalize â†’ â€œalarab natl bnkâ€
â€¢	fuzzy distance Ù…Ø¹ â€œarab national bankâ€ â‰ˆ 0.86â€“0.90
Ù„Ùˆ â‰¥ fuzzySuggest (0.85):
â€¢	ÙŠØ±Ø¬Ø¹ status = â€œfuzzyâ€
â€¢	ÙŠØ¹Ø±Ø¶ Ø§Ù‚ØªØ±Ø§Ø­ bankSuggestion
â€¢	ÙŠØ­ØªØ§Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¬Ø±Ø¯ Ø¶ØºØ· Ø²Ø± Ù„ØªØ£ÙƒÙŠØ¯Ù‡ (Ø¨Ø¯ÙˆÙ† learn)
Ù„ÙƒÙ† Ù„Ù† ØªØ¯Ø®Ù„ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù‘Ù… Ù„Ø£Ù† Ø§Ù„Ø¨Ù†Ùƒ Ù„Ø§ ÙŠØªÙ… ØªØ¹Ù„Ù…Ù‡.
________________________________________


ÙŠÙ…ÙƒÙ† â€” ÙˆÙŠØ¬Ø¨ â€” ØªØ®ØµÙŠØµ ÙƒÙ„ Ù…Ù†Ø¸ÙˆÙ…Ø© Ø§Ù„ØªØ¹Ù„Ù‘Ù… (Learning Engine) Ù„Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† ÙÙ‚Ø·ØŒ ÙˆØ¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ø¨Ù†ÙˆÙƒ Ù†Ù‡Ø§Ø¦ÙŠÙ‹Ø§ Ù…Ù† Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù‘Ù….
Ù„Ø£Ù†:
â€¢	Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ù†ÙˆÙƒ Ù…Ø­Ø¯ÙˆØ¯ Ø¬Ø¯Ù‹Ø§
â€¢	Ø£Ø³Ù…Ø§Ø¤Ù‡Ø§ Ø±Ø³Ù…ÙŠØ© ÙˆØ«Ø§Ø¨ØªØ©
â€¢	Ù„ÙŠØ³Øª Ø¹Ø±Ø¶Ø© Ù„Ø§Ø®ØªÙ„Ø§ÙØ§Øª ÙƒØªØ§Ø¨ÙŠØ© Ù…Ø«Ù„ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
â€¢	ÙˆØ£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ù†ÙˆÙƒ Ø£Ù‚Ù„ Ø¨ÙƒØ«ÙŠØ±
Ø¥Ø°Ù‹Ø§:
Ù†Ø¹Ù…ØŒ ÙŠÙ…ÙƒÙ† ØªØ®ØµÙŠØµ ÙˆØªØ¨Ø³ÙŠØ· Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø­ÙŠØ«:
â€¢	Ø§Ù„Ù…ÙˆØ±Ø¯ = ÙŠØ®Ø¶Ø¹ Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ÙƒØ§Ù…Ù„
â€¢	Ø§Ù„Ø¨Ù†Ùƒ = Ù„Ø§ ÙŠØªØ¹Ù„Ù… Ø£Ø¨Ø¯Ù‹Ø§ (Ø¯Ø¹Ù… Ù‚Ø§Ù…ÙˆØ³ Ø±Ø³Ù…ÙŠ ÙÙ‚Ø·)
Ø³Ø£Ø´Ø±Ø­ Ù„Ùƒ:
ğŸ”¥ 1) Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø³Ù†Ø­Ø°ÙÙ‡ØŸ
Ù†Ø­Ø°Ù Ø¨Ø§Ù„ÙƒØ§Ù…Ù„:
â€¢	bankVariants
â€¢	learnVariant Ù„Ù„Ø¨Ù†ÙˆÙƒ
â€¢	createLearningEngine Ù„Ù„Ø¨Ù†ÙˆÙƒ
â€¢	Ø£ÙŠ LocalStorage Ù„Ù„Ø¨Ù†ÙˆÙƒ
â€¢	Ø£ÙŠ fuzzy learning Ù„Ù„Ø¨Ù†Ùƒ
ÙˆÙ†ÙØ¨Ù‚ÙŠ ÙÙ‚Ø·:
â€¢	matching Ù„Ù„Ø¨Ù†Ùƒ Ù…Ù† Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ø±Ø³Ù…ÙŠ
â€¢	fuzzy Ù„Ù„Ø¨Ù†Ùƒ ÙÙŠ Ø­Ø§Ù„Ø§Øª Ù†Ø§Ø¯Ø±Ø© (optional)
________________________________________
ğŸ”¥ 2) Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø³ÙŠØ¨Ù‚Ù‰ Ù„Ù„Ø¨Ù†ÙˆÙƒØŸ
ÙÙ‚Ø·:
âœ” official banks list
Ù…Ù† banks.json (Ù‚Ø§Ø¦Ù…Ø© Ø±Ø³Ù…ÙŠØ©)
âœ” short aliases
Ù…Ø«Ù„:
â€¢	anb
â€¢	alrajhi bank
â€¢	sabb
âœ” fuzzy matching Ø¨Ø³ÙŠØ· (Jaro-Winkler)
Ù„ÙŠØ³ Ù„Ù„ØªØ¹Ù„Ù‘Ù…â€¦ ÙÙ‚Ø· Ù„Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©.
________________________________________
ğŸ”¥ 3) Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø³ÙŠØªÙ… ØªØ®ØµÙŠØµÙ‡ Ù„Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† ÙÙ‚Ø·ØŸ
Ø§Ù„Ø¢ØªÙŠ Ø³ÙŠØµØ¨Ø­ Ø®Ø§Øµ Ø¨Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† ÙÙ‚Ø·:
âœ” learnVariant
âœ” scoring
âœ” similarity ingerence
âœ” variantsDict
âœ” progressive confirmation
âœ” propagation
âœ” undo/pending
âœ” random detection
âœ” variant merging
âœ” full Learning Engine
________________________________________
ğŸ”¥ 4) ÙƒÙŠÙ Ù†ØºÙŠÙ‘Ø± Ø§Ù„Ù…Ù„ÙØ§Øª Ù„ØªØµØ¨Ø­ Supplier-only LearningØŸ
A) ÙÙŠ matching.js
Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ ØªØ¹Ù„Ù… Ù„Ù„Ø¨Ù†ÙˆÙƒ:
export const resolveBank = (...) => {
    // ÙÙ‚Ø· matching Ø±Ø³Ù…ÙŠ + fuzzy
}
Ù„Ø§ Ù†Ø³ØªØ®Ø¯Ù…:
â€¢	variantsDict
â€¢	learnVariant
â€¢	score
â€¢	confirmed
Ø§Ù„Ø¥Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰:
â€¢	normalizedOfficial
â€¢	aliases
â€¢	fuzzySuggestion
________________________________________
B) ÙÙŠ learning.js
Ø¬Ø¹Ù„ Ø§Ù„ØªØ¹Ù„Ù… Ø®Ø§ØµÙ‹Ø§ Ø¨Ù€ suppliers ÙÙ‚Ø·:
1.	Ù†Ù†Ø´Ø¦ engine ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·:
export const suppliersEngine = createLearningEngine({
    storageKey: SUPPLIER_VARIANTS_KEY,
    defaultRecords: SUPPLIER_VARIANTS_SEEDED,
    officialLookup: SUPPLIER_OFFICIAL_LOOKUP,
    entityType: "supplier"
});
2.	Ù„Ø§ Ù†Ù†Ø´Ø¦ Bank Engine Ø¥Ø·Ù„Ø§Ù‚Ù‹Ø§
________________________________________
C) ÙÙŠ App.jsx
Ø­Ø°Ù Ø£ÙŠ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù„Ù€ learnVariant Ù„Ù„Ø¨Ù†Ùƒ:
Ù‚Ø¨Ù„:
setBankVariants((dict) =>
  learnVariant(selectedRecord.bankRaw, bankOfficial, dict, BANK_VARIANTS_KEY)
);
Ø¨Ø¹Ø¯:
âŒ Ù†Ø­Ø°Ù Ù‡Ø°Ø§ ØªÙ…Ø§Ù…Ù‹Ø§.
Ø§Ù„Ø¨Ù†Ùƒ ÙŠØµØ¨Ø­:
const bankResult = resolveBank(...);
finalBank = bankResult.official;
Ø¨Ø¯ÙˆÙ† ØªØ¹Ù„Ù….
________________________________________
D) ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† LocalStorage
Ù„Ø§ ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØªØ§Ø­ Ù„Ù„Ø¨Ù†ÙˆÙƒ.
ÙÙ‚Ø· Ù…ÙØªØ§Ø­ ÙˆØ§Ø­Ø¯:
bgl_supplier_variants
________________________________________
E) ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù… Ø¯Ø§Ø®Ù„ panels
Ø¹Ù†Ø¯ Ø­ÙØ¸ Ø§Ù„Ù‚Ø±Ø§Ø±:
Ø§Ù„Ù…ÙˆØ±Ø¯:
suppliersEngine.learnManual(rawValue, supplierOfficial);
Ø§Ù„Ø¨Ù†Ùƒ:
âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¹Ù„Ù…
ÙŠØµØ¨Ø­:
finalBank = bankOfficial;
________________________________________
ğŸ”¥ 5) Ù…Ø§Ø°Ø§ Ù†Ø³ØªÙÙŠØ¯ Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„ØªØ®ØµÙŠØµØŸ
âœ” Ø§Ù„Ù†Ø¸Ø§Ù… Ø£Ø¨Ø³Ø· 40% Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
Ù„Ø£Ù†Ù†Ø§ Ù†Ø²ÙŠÙ„ Ù†ØµÙ Ø§Ù„ØªØ¹Ù‚ÙŠØ¯ (bank learning).
âœ” Ù„Ø§ Ø®Ø·Ø± Ù…Ù† ØªØ¹Ù„Ù… Ø¨Ù†Ùƒ Ø®Ø§Ø·Ø¦
Ù„Ø£Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ù„Ù† ÙŠØ®Ø²Ù† Ø£Ø³Ù…Ø§Ø¡ Ø¨Ù†ÙˆÙƒ ØºÙŠØ± Ø±Ø³Ù…ÙŠØ©.
âœ” Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† ÙÙ‚Ø· Ù‡Ù… Ù…Ø­ÙˆØ± Ø§Ù„Ø¹Ù…Ù„
ÙˆÙ‡Ø°Ø§ Ù…Ù†Ø·Ù‚ÙŠ Ø¬Ø¯Ù‹Ø§ Ù„Ø£Ù† Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†:
â€¢	Ø£Ø³Ù…Ø§Ø¡Ù‡Ù… ÙƒØ«ÙŠØ±Ø© Ø¬Ø¯Ù‹Ø§
â€¢	Ù…ÙƒØªÙˆØ¨Ø© Ø¨Ø·Ø±Ù‚ ØºÙŠØ± Ù…Ù†Ø³Ù‚Ø©
â€¢	ØªØ£ØªÙŠ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ/Ù…Ø®ØªÙ„Ø·
â€¢	ØªØªØºÙŠØ± Ù…Ø¹ Ø§Ù„ÙˆÙ‚Øª
â€¢	Ø¨Ø¹Ø¶Ù‡Ø§ Ø¨Ù‡ Ø£Ø®Ø·Ø§Ø¡ Ø¥Ù…Ù„Ø§Ø¦ÙŠØ©
âœ” Ø§Ù„ØªØ¹Ù„Ù… ÙŠØµØ¨Ø­ Ø£ÙƒØ«Ø± Ø¯Ù‚Ø©
Ù„Ø£Ù† Ø§Ù„Ù€ engine Ø³ÙŠØ±ÙƒÙ‘Ø² ÙÙ‚Ø· Ø¹Ù„Ù‰ Ù…ØµØ¯Ø± ÙˆØ§Ø­Ø¯: suppliers
________________________________________
ğŸ”¥ 6) ÙƒÙŠÙ Ø³ÙŠØ¨Ø¯Ùˆ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Supplier-only Learning Engine)ØŸ
Ù„Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†:
â€¢	normalizeName
â€¢	fuzzy (Jaro-Winkler)
â€¢	learnVariant
â€¢	scoring
â€¢	progressive confirmation
â€¢	propagation smart
â€¢	pending | confirmed layers
â€¢	random detection
â€¢	conflict detection
â€¢	mergeAliasDict
Ù„Ù„Ø¨Ù†Ùƒ:
â€¢	dictionary-only matching
â€¢	alias matching (predefined)
â€¢	fuzzy fallback
â€¢	Ù„Ø§ ØªØ¹Ù„Ù‘Ù…
________________________________________
ğŸ”¥ 7) ÙƒÙŠÙ Ø£Ø¶Ù…Ù† Ø£Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙŠØ¸Ù„ ÙŠØ¹Ù…Ù„ØŸ
Ø³Ø£Ø¹Ø·ÙŠÙƒ ØªØ¹Ø¯ÙŠÙ„ Ø¬Ø§Ù‡Ø² Ù„Ù€ App.jsx
(Ù…Ø¬Ø±Ù‘Ø¯ Ù…Ø«Ø§Ù„):
Ù‚Ø¨Ù„:
const bankRes = resolveBank(r.bankRaw, BANK_DICTIONARY, bankVariants);
suppliersEngine.learnManual(...);
Ø¨Ø¹Ø¯:
const bankRes = resolveBank(r.bankRaw, BANK_DICTIONARY); // Ø¨Ø¯ÙˆÙ† bankVariants
suppliersEngine.learnManual(r.supplierRaw, supplierOfficial);
________________________________________
ğŸ”¥ 8) Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ø£ÙŠ ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©ØŸ
Ù„Ø§â€”ÙƒÙ„ panels Ø³ØªØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±
Ù„Ø£Ù† Panels ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹:
â€¢	supplierStatus
â€¢	bankStatus
ÙˆÙ„ÙƒÙ†:
â€¢	bankStatus Ø³ÙŠÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ù‹Ø§ auto Ø£Ùˆ fuzzy
â€¢	supplierStatus Ù‡Ùˆ Ø§Ù„ÙˆØ­ÙŠØ¯ Ø§Ù„Ø°ÙŠ ÙÙŠÙ‡ manual decisions
________________________________________
ğŸ”¥ Ø§Ù„Ø®Ù„Ø§ØµØ©:
Ù†Ø¹Ù…ØŒ ÙŠÙ…ÙƒÙ† (ÙˆÙŠÙØ¶Ù„) Ø¬Ø¹Ù„ ÙƒÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù… Ø®Ø§ØµÙ‹Ø§ Ø¨Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† ÙÙ‚Ø·.
ÙˆØ§Ù„Ø¨Ù†ÙˆÙƒ ØªØ¨Ù‚Ù‰:
â€¢	matching ÙÙ‚Ø·
â€¢	Ø¨Ø¯ÙˆÙ† ØªØ¹Ù„Ù…
â€¢	Ø¨Ø¯ÙˆÙ† LocalStorage
â€¢	Ø¨Ø¯ÙˆÙ† variantsDict





âœ… (1) banks.json Ù…Ø«Ø§Ù„ÙŠ â€“ Ø¬Ù…ÙŠØ¹ Ø¨Ù†ÙˆÙƒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© + ÙƒÙ„ Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©
Ù‡Ø°Ø§ Ù…Ù„Ù Ø¬Ø§Ù‡Ø² 100% Ù„Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆÙŠØ­ØªÙˆÙŠ:
â€¢	Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø³Ù…ÙŠ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
â€¢	Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø³Ù…ÙŠ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (Ø¥Ù† ÙˆØ¬Ø¯)
â€¢	Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªÙˆØ¨Ø© Ø¹Ø§Ø¯Ø© ÙÙŠ Ù…Ù„ÙØ§Øª Excel
â€¢	ÙƒÙ„ Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø© Ø§Ù„ØªÙŠ ÙŠÙƒØªØ¨Ù‡Ø§ Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ†
â€¢	ÙƒÙ„ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
________________________________________
ğŸ“Œ banks.json â€” Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„
{
  "banks": [
    {
      "official": "Ù…ØµØ±Ù Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ",
      "short": [
        "alrajhi bank",
        "al rajhi",
        "rajhi",
        "alrajhi",
        "al-rajhi",
        "alrajhi bnk",
        "arajhi",
        "al raji",
        "Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ",
        "Ù…ØµØ±Ù Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ",
        "rajhy",
        "alrajhy",
        "arajhy"
      ]
    },
    {
      "official": "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø£Ù‡Ù„ÙŠ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ",
      "short": [
        "sncb",
        "snc",
        "ncb",
        "ahli",
        "ahli bank",
        "al ahli",
        "alahli bank",
        "saudi national bank",
        "national bank",
        "saudi national",
        "snb",
        "the national commercial bank",
        "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø§Ù‡Ù„ÙŠ",
        "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø£Ù‡Ù„Ù‰",
        "Ø§Ù„Ø£Ù‡Ù„ÙŠ",
        "Ø§Ù„Ø§Ù‡Ù„ÙŠ"
      ]
    },
    {
      "official": "Ø¨Ù†Ùƒ Ø§Ù„Ø±ÙŠØ§Ø¶",
      "short": [
        "riyad",
        "riyadh",
        "riyad bank",
        "riyadh bank",
        "ryad",
        "riyad bnk",
        "Ø¨Ù†Ùƒ Ø§Ù„Ø±ÙŠØ§Ø¶",
        "Ø§Ù„Ø±ÙŠØ§Ø¶"
      ]
    },
    {
      "official": "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„ÙˆØ·Ù†ÙŠ",
      "short": [
        "anb",
        "a.n.b",
        "arab nat bank",
        "arab national bank",
        "arab national",
        "arab n bank",
        "al arab",
        "arab",
        "arabi",
        "Ø§Ù„Ø¹Ø±Ø¨ÙŠ",
        "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¹Ø±Ø¨ÙŠ"
      ]
    },
    {
      "official": "Ø¨Ù†Ùƒ Ø§Ù„Ø¨Ù„Ø§Ø¯",
      "short": [
        "albilad",
        "bilad bank",
        "bank albilad",
        "bilad",
        "Ø§Ù„Ø¨Ù„Ø§Ø¯",
        "Ø¨Ù†Ùƒ Ø§Ù„Ø¨Ù„Ø§Ø¯"
      ]
    },
    {
      "official": "Ø¨Ù†Ùƒ Ø§Ù„Ø¬Ø²ÙŠØ±Ø©",
      "short": [
        "jazira",
        "jazira bank",
        "bank aljazira",
        "aljazira",
        "al jazira",
        "Ø§Ù„Ø¬Ø²ÙŠØ±Ø©",
        "Ø¨Ù†Ùƒ Ø§Ù„Ø¬Ø²ÙŠØ±Ø©"
      ]
    },
    {
      "official": "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ Ø§Ù„Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠ (Ø³Ø§Ø¨)",
      "short": [
        "sabb",
        "sab",
        "s.a.b",
        "sabb bank",
        "Ø§Ù„Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠ",
        "Ø³Ø§Ø¨",
        "Ø¨Ù†Ùƒ Ø³Ø§Ø¨"
      ]
    },
    {
      "official": "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±",
      "short": [
        "saib",
        "saib bank",
        "saudi investment bank",
        "Ø§Ø³ØªØ«Ù…Ø§Ø±",
        "Ø¨Ù†Ùƒ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±"
      ]
    },
    {
      "official": "Ø¨Ù†Ùƒ Ø§Ù„Ø®Ù„ÙŠØ¬ Ø§Ù„Ø¯ÙˆÙ„ÙŠ",
      "short": [
        "gib",
        "gib bank",
        "gulf intl bank",
        "bank gulf international",
        "Ø§Ù„Ø®Ù„ÙŠØ¬",
        "Ø§Ù„Ø®Ù„ÙŠØ¬ Ø§Ù„Ø¯ÙˆÙ„ÙŠ"
      ]
    },
    {
      "official": "Ø¨Ù†Ùƒ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø¯Ø¨ÙŠ Ø§Ù„ÙˆØ·Ù†ÙŠ",
      "short": [
        "emirates nbd",
        "nbd",
        "dubai emirates bank",
        "emirates bank",
        "Ø¨Ù†Ùƒ Ø§Ù„Ø§Ù…Ø§Ø±Ø§Øª",
        "Ø§Ù„Ø§Ù…Ø§Ø±Ø§Øª Ø¯Ø¨ÙŠ Ø§Ù„ÙˆØ·Ù†ÙŠ"
      ]
    },
    {
      "official": "Ø¨Ù†Ùƒ Ø§Ù„Ù…Ø´Ø±Ù‚",
      "short": [
        "mashreq",
        "mashrek",
        "mashriq",
        "mashreq bank",
        "Ø§Ù„Ù…Ø´Ø±Ù‚",
        "Ø¨Ù†Ùƒ Ø§Ù„Ù…Ø´Ø±Ù‚"
      ]
    }
  ]
}
________________________________________
âœ… (2) Ù…Ø®Ø·Ø· ÙƒØ§Ù…Ù„ Ù„ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Matching Ù„Ù„Ø¨Ù†ÙˆÙƒ â€“ Ø¨Ø¯ÙˆÙ† ØªØ¹Ù„Ù…
Ù‡Ø°Ø§ Ù‡Ùˆ Final Architecture:
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    Excel Bank Name     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–¼
          normalizeName(rawBank)
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 1: Exact match  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
               if match return AUTO
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 2: Alias match  â”‚
        â”‚    (short[] list)      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
               if match return AUTO
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Step 3: Fuzzy match    â”‚
        â”‚   Jaro-Winkler â‰¥ 0.90  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
               if match return AUTO
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Step 4: Fuzzy Suggest  â”‚
        â”‚   Jaro-Winkler â‰¥ 0.85  â”‚
        â”‚     (user confirms)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Step 5: Manual Select  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
âœ” Ù„Ø§ ØªØ¹Ù„Ù…
âœ” Ù„Ø§ variants
âœ” Ù„Ø§ localStorage
âœ” Ù„Ø§ propagation
ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØªÙ… Ø¹Ø¨Ø± Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ ÙˆØ§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø±Ø³Ù…ÙŠ.
________________________________________
âœ… (3) ØªØ­Ø¯ÙŠØ« matching.js Ù„Ø¯Ø¹Ù… Ø§Ù„Ø£Ù‚ÙˆÙ‰ Ù„Ù„Ø¨Ù†ÙˆÙƒ
Ù‡Ø°Ø§ ÙƒÙˆØ¯ Ø¬Ø§Ù‡Ø² ÙŠÙ„ØµÙ‚ ÙƒÙ…Ø§ Ù‡Ùˆ:
export function resolveBank(rawBank, bankDictionary) {
  if (!rawBank) {
    return { status: "manual", official: null, source: "empty" };
  }

  const normalizedRaw = normalizeName(rawBank);

  const candidates = bankDictionary.map((b) => ({
    official: b.official,
    main: normalizeName(b.official),
    aliases: (b.short || []).map((s) => normalizeName(s)),
  }));

  // Step 1 â€” Exact match with official name
  const exact = candidates.find((c) => c.main === normalizedRaw);
  if (exact) {
    return {
      status: "auto",
      official: exact.official,
      probability: 1,
      source: "official-exact",
    };
  }

  // Step 2 â€” Exact alias match
  const aliasMatch = candidates.find((c) => c.aliases.includes(normalizedRaw));
  if (aliasMatch) {
    return {
      status: "auto",
      official: aliasMatch.official,
      probability: 0.98,
      source: "alias-exact",
    };
  }

  // Step 3 â€” Fuzzy match using JW â‰¥ 0.90
  let bestAuto = { score: 0, item: null };
  for (const c of candidates) {
    const score = jaroWinkler(normalizedRaw, c.main);
    if (score > bestAuto.score) bestAuto = { score, item: c };
  }

  if (bestAuto.item && bestAuto.score >= 0.9) {
    return {
      status: "auto",
      official: bestAuto.item.official,
      probability: bestAuto.score,
      source: "official-fuzzy-auto",
    };
  }

  // Step 4 â€” Suggestion-only
  if (bestAuto.item && bestAuto.score >= 0.85) {
    return {
      status: "fuzzy",
      official: null,
      fuzzySuggestion: bestAuto.item.official,
      probability: bestAuto.score,
      source: "official-fuzzy-suggest",
    };
  }

  // Step 5 â€” Manual
  return {
    status: "manual",
    official: null,
    fuzzySuggestion: null,
    probability: 0,
    source: "manual",
  };
}
________________________________________
ğŸ Ø§Ù„Ø®Ù„Ø§ØµØ© â€” Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ÙŠÙ† Ø¬Ø§Ù‡Ø²ÙˆÙ† Ø§Ù„Ø¢Ù†:
âœ” banks.json Ø´Ø§Ù…Ù„
âœ” Ù…Ø®Ø·Ø· Ù…Ø¹Ù…Ø§Ø±ÙŠ ÙƒØ§Ù…Ù„ Ù„Ù„Ø¨Ù†ÙˆÙƒ Ø¨Ø¯ÙˆÙ† ØªØ¹Ù„Ù…
âœ” matching.js Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

