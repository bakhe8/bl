# وثيقة اختبار النظام — أولوية 3/5

## اختبارات الوحدة (Unit)
- تطابق بنك ومورد (رسمي، variant، إنجليزي).
- تنسيق التاريخ.
- تنسيق المبلغ.
- تحليل Excel وتحويل الأعمدة.

## اختبارات التكامل (Integration)
- رفع ملف → مطابقة → إنشاء خطاب → طباعة PDF.
- سيناريو أعمدة ناقصة مع تصحيح يدوي.
- استيراد/تصدير القواميس وملفات column mapping ثم إعادة تشغيل المسار.
- اختبار حماية XSS عند عرض بيانات Excel في الواجهة.
- اختبار رفض ملفات XLSM أو ملفات لا تحتوي الحقول الإلزامية (`docs/excel_template.md`).

## اختبارات قبول المستخدم (UAT)
- ملف يحوي 30–100 صفاً مختلطاً عربي/إنجليزي.
- أخطاء مطبعية قوية في الأسماء.
- إضافة مورد جديد.
- إضافة بنك جديد.
- ملفات بترميز مختلف (UTF-8/CP1256) للتحقق من سلامة القراءة.
- ملف الاختبار المتفق عليه (10 صفوف متنوعة كما في المسودة) كحجر أساس للتكرار بعد كل تعديل.

## معايير القبول
- لا توجد أخطاء في الأسماء الرسمية بعد التصحيح.
- إخراج خطاب متناسق RTL وخالٍ من تنسيقات غير مقصودة.
- زمن المعالجة عملي (ثوانٍ لعشرات الصفوف).
- ملف PDF الناتج يحتفظ بالخط/المحاذاة.
- لا أعطال أو فقد بيانات عند استيراد/تصدير القواميس أو تجاوز حدود LocalStorage (يتم عرض تحذير واضح).
